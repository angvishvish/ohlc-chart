(this["webpackJsonpohlc-chart"]=this["webpackJsonpohlc-chart"]||[]).push([[0],{257:function(e,t,a){e.exports=a(287)},286:function(e,t,a){},287:function(e,t,a){"use strict";a.r(t),a.d(t,"history",(function(){return x}));var n=a(9),r=a.n(n),l=a(118),i=a.n(l),c=a(167),o=a(41),s=function(){return r.a.createElement("div",{className:"ui two item menu"},r.a.createElement(c.b,{className:"item",to:"/ohlc-chart/"},"Home"),r.a.createElement(c.b,{className:"item",to:"/ohlc-chart/live-charts"},"Live Charts"))},h=a(135),u=a(136),d=a(152),v=a(148),p=a(239),m=a.n(p).a.create({baseURL:"http://kaboom.rksv.net/api/"}),f=a(240),g=a.n(f),b=a(123),C=a(111),y=a(243);b.c(y.a),b.b.minPolylineStep=5,b.b.queue=!0,b.b.deferredDelay=500,b.b.onlyShowOnViewport=!0;var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return parseFloat(e).toFixed(2)},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Set(e),a=Array.from(t).reverse().map((function(e,t){var a=e.split(",");return{date:g()(parseInt(a[0])).format("YYYY-MM-DD"),open:I(a[1]),high:I(a[2]),low:I(a[3]),close:I(a[4])}}));return a},E=function(){var e=b.a("chartDiv",C.e),t=e.xAxes.push(new C.a),a=(e.yAxes.push(new C.d),e.series.push(new C.c)),n=e.series.push(new C.b),r=new C.f;return e.paddingRight=20,e.dateFormatter.inputDateFormat="YYYY-MM-dd",t.renderer.grid.template.location=0,t.dateFormats.setKey("day","MMMM-YYYY"),a.minBulletDistance=20,a.dataFields.dateX="date",a.dataFields.openValueY="open",a.dataFields.lowValueY="low",a.dataFields.highValueY="high",a.dataFields.valueY="close",a.tooltipText="Start: \u20b9{openValueY.value} \n             Low: \u20b9{lowValueY.value} \n             High: \u20b9{highValueY.value} \n             End: \u20b9{valueY.value}",a.strokeWidth=2,e.cursor=new C.g,n.dataFields.dateX="date",n.dataFields.valueY="close",n.defaultState.properties.visible=!1,n.hiddenInLegend=!0,n.fillOpacity=.5,n.strokeOpacity=.5,r.series.push(n),e.scrollbarX=r,e},Y=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.getChart()},e.getChart=function(){e.setState({isLoading:!0}),m.get("/historical?interval=9").then((function(t){e.createChart(t.data)}))},e.createChart=function(t){e.disposeChart(),e.chart=E(),e.chart.addData(w(t)),e.chart.events.on("shown",(function(){e.setState({isLoading:!1})}))},e.disposeChart=function(){e.chart&&e.chart.dispose()},e.state={isLoading:!1},e}return Object(u.a)(a,[{key:"componentWillUnmount",value:function(){this.disposeChart()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.isLoading?r.a.createElement("h3",{className:"flex-center"},"Loading Updated Chart..."):null,r.a.createElement("div",{id:"chartDiv",style:{width:"100%",height:"calc(100vh - 150px)"}}))}}]),a}(n.Component),O=a(302),D=a(301),F=function(){for(var e=[],t=1;t<=9;t++)e.push({key:t,text:"Interval ".concat(t," (").concat(200*t," Records)"),value:t});return e},j=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleInterval=function(t,a){e.props.handleInterval(a.value)},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(O.a,{key:this.props.interval},r.a.createElement(D.a,{options:F(),simple:!0,item:!0,closeOnChange:!0,defaultValue:this.props.interval,onChange:this.handleInterval}))}}]),a}(n.Component),k=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.getChartData("?interval=1")},e.getChartData=function(t){e.clearInterval(),m.get("/historical".concat(t)).then((function(t){e.createChart(t.data)}))},e.clearInterval=function(){e.state.liveChartIntervalId&&clearInterval(e.state.liveChartIntervalId)},e.createChart=function(t){e.disposeChart(),e.chart=E();var a=w(t),n=0,r=setInterval((function(){console.log(n),a.length!==n?e.chart.addData(a[n++]):e.clearInterval()}),250);e.setState({liveChartIntervalId:r}),e.chart.events.on("ready",(function(){e.setState({isLoading:!1})}))},e.disposeChart=function(){e.chart&&e.chart.dispose()},e.state={isLoading:!0,interval:1,liveChartIntervalId:null},e.chart=E(),e}return Object(u.a)(a,[{key:"componentWillUnmount",value:function(){this.clearInterval(),this.disposeChart()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Filter Interval results as per your requirement:"),r.a.createElement(j,{interval:this.state.interval,handleInterval:function(t){return e.getChartData("?interval=".concat(t),!0)}}),this.state.isLoading?r.a.createElement("h3",{className:"flex-center"},"Loading Updated Chart..."):null,r.a.createElement("div",{id:"chartDiv",style:{width:"100%",height:"calc(100vh - 150px)"}}))}}]),a}(n.Component),L=(a(285),a(286),a(242)),x=Object(L.a)({basename:"/ohlc-chart"}),M=function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement(c.a,null,r.a.createElement("div",{className:"padding-top pos-relative"},r.a.createElement(s,null),r.a.createElement(o.a,{path:"/ohlc-chart",exact:!0,component:Y}),r.a.createElement(o.a,{path:"/ohlc-chart/live-charts",component:k}))))};i.a.render(r.a.createElement(M,null),document.querySelector("#root"))}},[[257,1,3]]]);
//# sourceMappingURL=main.810d0bca.chunk.js.map